(function(a,b){'use strict';function c(a,b,c,d,e,f,g,h,i,j){"boolean"!=typeof g&&(i=h,h=g,g=!1);const k="function"==typeof c?c.options:c;a&&a.render&&(k.render=a.render,k.staticRenderFns=a.staticRenderFns,k._compiled=!0,e&&(k.functional=!0)),d&&(k._scopeId=d);let l;if(f?(l=function(a){a=a||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,a||"undefined"==typeof __VUE_SSR_CONTEXT__||(a=__VUE_SSR_CONTEXT__),b&&b.call(this,i(a)),a&&a._registeredComponents&&a._registeredComponents.add(f)},k._ssrRegister=l):b&&(l=g?function(a){b.call(this,j(a,this.$root.$options.shadowRoot))}:function(a){b.call(this,h(a))}),l)if(k.functional){const a=k.render;k.render=function(b,c){return l.call(c),a(b,c)}}else{const a=k.beforeCreate;k.beforeCreate=a?[].concat(a,l):[l]}return c}function d(){return(a,b)=>e(a,b)}function e(a,b){const c=f?b.media||"default":a,d=h[c]||(h[c]={ids:new Set,styles:[]});if(!d.ids.has(a)){d.ids.add(a);let c=b.source;if(b.map&&(c+="\n/*# sourceURL="+b.map.sources[0]+" */",c+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(b.map))))+" */"),d.element||(d.element=document.createElement("style"),d.element.type="text/css",b.media&&d.element.setAttribute("media",b.media),void 0===g&&(g=document.head||document.getElementsByTagName("head")[0]),g.appendChild(d.element)),"styleSheet"in d.element)d.styles.push(c),d.element.styleSheet.cssText=d.styles.filter(Boolean).join("\n");else{const a=d.ids.size-1,b=document.createTextNode(c),e=d.element.childNodes;e[a]&&d.element.removeChild(e[a]),e.length?d.element.insertBefore(b,e[a]):d.element.appendChild(b)}}}const f="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());let g;const h={};var i=function(){var a=this,b=a.$createElement,c=a._self._c||b;return c("div",{staticClass:"product-sum"},[a._v("\n  "+a._s(a.displayNumber)+"\n")])};i._withStripped=!0;const j=c({render:i,staticRenderFns:[]},function(a){a&&a("data-v-0ecd6fce_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"animated-number.vue"},media:void 0})},{name:"animated-number",props:{number:{default:0}},data(){return{displayNumber:0,interval:!1}},mounted:function(){this.displayNumber=this.number?this.number:0},watch:{number:function(){clearInterval(this.interval);this.number==this.displayNumber||(this.interval=window.setInterval(function(){if(this.displayNumber!=this.number){var a=(this.number-this.displayNumber)/10;a=0<=a?Math.ceil(a):Math.floor(a),this.displayNumber+=a}}.bind(this),20))}}},"data-v-0ecd6fce",!1,void 0,!1,d,void 0,void 0);var k=function(){var a=this,b=a.$createElement,c=a._self._c||b;return c("div",{staticClass:"table-responsive"},[0<a.products.length?c("table",{staticClass:"table"},[c("thead",[c("tr",[c("td",{attrs:{scope:"col"}},[a._v("\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435")]),a._v(" "),c("td",{attrs:{scope:"col"}},[a._v("\u0426\u0435\u043D\u0430")]),a._v(" "),c("td",{attrs:{scope:"col"}},[a._v("\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E")]),a._v(" "),c("td",{attrs:{scope:"col"}},[a._v("\u0421\u0443\u043C\u043C\u0430")]),a._v(" "),a.isField?c("td",{attrs:{scope:"col"}},[a._v("\u0423\u0434\u0430\u043B\u0438\u0442\u044C")]):a._e()])]),a._v(" "),c("tbody",a._l(a.filteredProducts,function(b){return c("tr",{key:b.id,staticClass:"container",class:{delete:b.isDelete}},[c("td",{staticClass:"sale-order-detail-order-item-properties"},[a._v(a._s(b.name))]),a._v(" "),c("td",{staticClass:"sale-order-detail-order-item-properties"},[a._v(a._s(b.price)+" \u0440\u0443\u0431.")]),a._v(" "),c("td",{staticClass:"sale-order-detail-order-item-properties"},[c("div",{staticClass:"change-block"},[c("transition",{attrs:{name:"fade"}},[a.isField?a._e():c("div",{staticClass:"block"},[a._v("\n                "+a._s(b.count)+"\n              ")]),a._v(" "),a.isField?c("input",{directives:[{name:"model",rawName:"v-model",value:b.count,expression:"product.count"}],staticClass:"change-text",attrs:{type:"text"},domProps:{value:b.count},on:{keyup:function(){return a.inputChange(b)},input:function(c){c.target.composing||a.$set(b,"count",c.target.value)}}}):a._e()])],1)]),a._v(" "),c("td",{staticClass:"sale-order-detail-order-item-properties"},[c("animatedNumber",{attrs:{number:b.sum}})],1),a._v(" "),a.isField?c("td",{staticClass:"order-detail-header-column"},[c("input",{directives:[{name:"model",rawName:"v-model",value:b.isDelete,expression:"product.isDelete"}],staticClass:"order-detail-product-delete",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(b.isDelete)?-1<a._i(b.isDelete,null):b.isDelete},on:{change:[function(c){var d=b.isDelete,e=c.target,f=!!e.checked;if(Array.isArray(d)){var g=null,h=a._i(d,g);e.checked?0>h&&a.$set(b,"isDelete",d.concat([g])):-1<h&&a.$set(b,"isDelete",d.slice(0,h).concat(d.slice(h+1)))}else a.$set(b,"isDelete",f)},function(){return a.removeCheck(b)}]}})]):a._e()])}),0)]):c("div",[a._v("\n    \u041D\u0435\u0442 \u0442\u043E\u0432\u0430\u0440\u043E\u0432 \u0432 \u0437\u0430\u043A\u0430\u0437\u0435\n  ")]),a._v(" "),0<a.products.length?c("div",{staticClass:"reload-button"},[a.isField?c("button",{staticClass:"button-for-change",on:{click:function(){return a.saveChanges()}}},[a._v("\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C")]):c("button",{staticClass:"button-for-change",on:{click:function(){return a.changeForText()}}},[a._v("\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C")])]):a._e()])};k._withStripped=!0;const l=c({render:k,staticRenderFns:[]},function(a){a&&a("data-v-3bd39e5f_0",{source:"\n.reload-block-item[data-v-3bd39e5f] {\n  display: table;\n  flex-flow: column;\n  justify-content: space-between;\n}\n.table-header[data-v-3bd39e5f] {\n  border-bottom: 2px solid #000;\n}\n.order-detail-header-column[data-v-3bd39e5f] {\n  display: table-cell;\n  width: 200px;\n  height: 30px;\n  max-height: 30px;\n  box-sizing: border-box;\n  position: relative;\n  max-width: 200px;\n}\n.container[data-v-3bd39e5f] {\n  display: table-row;\n  max-height: 30px;\n  box-sizing: border-box;\n}\n.block[data-v-3bd39e5f],\n.change-text[data-v-3bd39e5f]{\n  width: 100px;\n}\n.change-text[data-v-3bd39e5f] {\n  padding: 2px 5px;\n  box-sizing: border-box;\n}\n.detail-order-header[data-v-3bd39e5f]\n{\n  display: table-row;\n}\n.change-block[data-v-3bd39e5f]\n{\n  display: flex;\n  max-width: 100px;\n  position: absolute;\n}\n.delete[data-v-3bd39e5f] {\n  text-decoration: line-through;\n}\n.order-detail-product-delete[data-v-3bd39e5f] {\n  position: absolute;\n}\n.fade-enter-active[data-v-3bd39e5f], .fade-leave-active[data-v-3bd39e5f] {\n  transition: padding 0.5s, width 0.5s;\n}\n.fade-enter[data-v-3bd39e5f], .fade-leave-to[data-v-3bd39e5f] /* .fade-leave-active \u0434\u043E \u0432\u0435\u0440\u0441\u0438\u0438 2.1.8 */ {\n  width: 0;\n  padding: 0 !important;\n}\n\n",map:{version:3,sources:["C:\\openserver\\OpenServer\\domains\\aspro\\local\\templates\\eshop_bootstrap_v4\\components\\bitrix\\sale.personal.order.detail\\bootstrap_v4\\vue\\src\\components\\app.vue"],names:[],mappings:";AAqIA;EACA,cAAA;EACA,iBAAA;EACA,8BAAA;AAEA;AAEA;EACA,6BAAA;AACA;AAEA;EACA,mBAAA;EACA,YAAA;EACA,YAAA;EACA,gBAAA;EACA,sBAAA;EACA,kBAAA;EACA,gBAAA;AACA;AAEA;EACA,kBAAA;EACA,gBAAA;EACA,sBAAA;AACA;AAIA;;EAEA,YAAA;AACA;AAEA;EACA,gBAAA;EACA,sBAAA;AACA;AAEA;;EAEA,kBAAA;AACA;AAEA;;EAEA,aAAA;EACA,gBAAA;EACA,kBAAA;AACA;AAEA;EACA,6BAAA;AACA;AAEA;EACA,kBAAA;AACA;AAGA;EACA,oCAAA;AACA;AACA;EACA,QAAA;EACA,qBAAA;AACA",file:"app.vue",sourcesContent:["<template>\n  <div class=\"table-responsive\">\n    <table class=\"table\" v-if=\"products.length > 0\">\n      <thead>\n      <tr>\n        <td scope=\"col\">\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435</td>\n        <td scope=\"col\">\u0426\u0435\u043D\u0430</td>\n        <td scope=\"col\">\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E</td>\n        <td scope=\"col\">\u0421\u0443\u043C\u043C\u0430</td>\n        <td scope=\"col\" v-if=\"isField\">\u0423\u0434\u0430\u043B\u0438\u0442\u044C</td>\n      </tr>\n      </thead>\n      <tbody>\n        <tr class=\"container\"\n             v-for=\"product in filteredProducts\"\n             :key=\"product.id\"\n             :class=\"{delete: product.isDelete}\"\n        >\n          <td class=\"sale-order-detail-order-item-properties\">{{product.name}}</td>\n          <td class=\"sale-order-detail-order-item-properties\">{{product.price}} \u0440\u0443\u0431.</td>\n          <td class=\"sale-order-detail-order-item-properties\">\n            <div class=\"change-block\">\n              <transition name=\"fade\">\n                <div class=\"block\" v-if=\"!isField\">\n                  {{product.count}}\n                </div>\n                <input class=\"change-text\" type=\"text\" v-model=\"product.count\" @keyup=\"inputChange(product)\" v-if=\"isField\"/>\n              </transition>\n            </div>\n          </td>\n          <td class=\"sale-order-detail-order-item-properties\"><animatedNumber :number=\"product.sum\"/></td>\n\n          <td class=\"order-detail-header-column\" v-if=\"isField\">\n            <input class=\"order-detail-product-delete\" type=\"checkbox\" @change=\"removeCheck(product)\" v-model=\"product.isDelete\"/>\n          </td>\n\n        </tr>\n      </tbody>\n    </table>\n    <div v-else>\n      \u041D\u0435\u0442 \u0442\u043E\u0432\u0430\u0440\u043E\u0432 \u0432 \u0437\u0430\u043A\u0430\u0437\u0435\n    </div>\n    <div class=\"reload-button\" v-if=\"products.length > 0\">\n      <button class=\"button-for-change\" @click=\"changeForText()\" v-if=\"!isField\">\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C</button>\n      <button class=\"button-for-change\" @click=\"saveChanges()\" v-else>\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C</button>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport animatedNumber from './animated-number.vue'\n\nexport default {\n\n  props: {\n    arProduct: \"Array\"\n  },\n  data() {\n    return {\n      products: this.arProduct,\n      isField: false,\n      inputSearch: ''\n    }\n  },\n  mounted() {\n    for (let i = 0; i < this.arProduct.length; i++)\n    {\n      this.arProduct[i].changeCount = this.arProduct[i].count;\n      this.arProduct[i].isDelete = false;\n    }\n  },\n  computed: {\n\n    /**\n     * \u041E\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043B\u044F\u0435\u0442 \u043F\u043E\u0438\u0441\u043A \u043F\u043E \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u044E \u0442\u043E\u0432\u0430\u0440\u0430 \u0432 \u043C\u0430\u0441\u0441\u0438\u0432\u0435 products\n     */\n    filteredProducts() {\n      return this.products.filter(t => {\n\n        let name = t.name.toLowerCase();\n        let search = this.inputSearch.toLowerCase();\n\n        return name.indexOf(search) != - 1;\n      });\n    }\n  },\n  components: {\n    animatedNumber\n  },\n  methods: {\n    /**\n     * \u0418\u0437\u043C\u0435\u043D\u044F\u0435\u0442 \u0431\u043B\u043E\u043A \u0441 \u0442\u0435\u043A\u0441\u0442\u043E\u043C \u043D\u0430 \u043F\u043E\u043B\u0435 \u0434\u043B\u044F \u0432\u0432\u043E\u0434\u0430\n     */\n    changeForText() {\n      console.log(this.products);\n      this.isField = true;\n    },\n\n    /**\n     * \u0421\u043E\u0445\u0440\u0430\u043D\u044F\u0435\u0442 \u0432\u0432\u0435\u0434\u0435\u043D\u043D\u044B\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u044F\n     */\n    saveChanges() {\n      this.isField = false;\n      this.products = this.products.filter(t => t.isDelete === false);\n    },\n\n    /**\n     * \u0418\u0437\u043C\u0435\u043D\u044F\u0435\u0442 \u0441\u0442\u043E\u0438\u043C\u043E\u0441\u0442\u044C \u0442\u043E\u0432\u0430\u0440\u0430\n     * @param id\n     */\n    inputChange(product) {\n      if (!product.isDelete)\n      {\n        product.sum = product.count * product.price;\n      }\n    },\n\n    removeCheck(product) {\n      if (product.isDelete)\n      {\n        product.sum = 0;\n      }\n      else\n      {\n        product.sum = product.count * product.price;\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.reload-block-item {\n  display: table;\n  flex-flow: column;\n  justify-content: space-between;\n\n}\n\n.table-header {\n  border-bottom: 2px solid #000;\n}\n\n.order-detail-header-column {\n  display: table-cell;\n  width: 200px;\n  height: 30px;\n  max-height: 30px;\n  box-sizing: border-box;\n  position: relative;\n  max-width: 200px;\n}\n\n.container {\n  display: table-row;\n  max-height: 30px;\n  box-sizing: border-box;\n}\n\n\n\n.block,\n.change-text{\n  width: 100px;\n}\n\n.change-text {\n  padding: 2px 5px;\n  box-sizing: border-box;\n}\n\n.detail-order-header\n{\n  display: table-row;\n}\n\n.change-block\n{\n  display: flex;\n  max-width: 100px;\n  position: absolute;\n}\n\n.delete {\n  text-decoration: line-through;\n}\n\n.order-detail-product-delete {\n  position: absolute;\n}\n\n\n.fade-enter-active, .fade-leave-active {\n  transition: padding 0.5s, width 0.5s;\n}\n.fade-enter, .fade-leave-to /* .fade-leave-active \u0434\u043E \u0432\u0435\u0440\u0441\u0438\u0438 2.1.8 */ {\n  width: 0;\n  padding: 0 !important;\n}\n\n</style>"]},media:void 0})},{props:{arProduct:"Array"},data(){return{products:this.arProduct,isField:!1,inputSearch:""}},mounted(){for(let a=0;a<this.arProduct.length;a++)this.arProduct[a].changeCount=this.arProduct[a].count,this.arProduct[a].isDelete=!1},computed:{filteredProducts(){return this.products.filter(a=>{let b=a.name.toLowerCase(),c=this.inputSearch.toLowerCase();return-1!=b.indexOf(c)})}},components:{animatedNumber:j},methods:{changeForText(){console.log(this.products),this.isField=!0},saveChanges(){this.isField=!1,this.products=this.products.filter(a=>!1===a.isDelete)},inputChange(a){a.isDelete||(a.sum=a.count*a.price)},removeCheck(a){a.sum=a.isDelete?0:a.count*a.price}}},"data-v-3bd39e5f",!1,void 0,!1,d,void 0,void 0);b.Vue.component("app",l)})(this.window=this.window||{},BX);
//# sourceMappingURL=script.js.map
